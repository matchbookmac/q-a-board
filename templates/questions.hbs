<h1 class="page-header text-center">
  <div class="row">
    <div class="col-md-4">
      {{#link-to 'questions'}}Q & A{{/link-to}}
    </div>
    {{#if notAskingQuestion}}
      <div class="col-md-4" {{action 'askQuestion'}}>
        {{#link-to 'ask-question' class="btn btn-primary" role="button"}}Ask a Question{{/link-to}}
      </div>
    {{/if}}
  </div>
</h1>

<div class="row">
  <div class="col-md-6 col-md-offset-3">
    {{#each question in this.questions itemController='question'}}

      <div class="question">
        <div {{action 'questionClicked'}}>
          <p class="lead"><strong>{{question.name}}</strong> asks: {{question.question}}</p>
        </div>

        {{#if question.clicked}}
          <p>{{question.description}}</p>


          {{#if question.notReplying}}
            <div {{action 'answer'}}>
              <p>{{#link-to 'new-answer' question.id class="btn btn-primary" role="button"}}Reply{{/link-to}}</p>
            </div>
          {{else}}
            <form>
              <div class="form-group">
                <label for="answerName">Your Name:</label>
                {{input value=this.newAnswer.name id="answerName" type="text" class="form-control"}}
              </div>
              <div class="form-group">
                <label for="answer">Your Question:</label>
                {{input value=this.newAnswer.answer id="answer" type="text" class="form-control" placeholder="Your reply"}}
              </div>
              <button type="button" class="btn btn-success" {{action 'reply'}}>Post</button>
            </form>
          {{/if}}

          {{#each answer in question.answers}}
            <div class="answer">
              {{answer.name}} says: {{answer.answer}}
            </div>
          {{/each}}


        {{/if}}
      </div>

    {{/each}}
  </div>
</div>

<div class="row">
  <div class="col-md-8 col-md-offset-2">
    {{outlet 'ask-question'}}
  </div>
</div>
