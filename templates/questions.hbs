<h1 class="page-header text-center">
  <div class="row">
    <div class="col-md-4">
      {{#link-to 'questions'}}Q & A{{/link-to}}
    </div>
    {{#if notAskingQuestion}}
      <div class="col-md-4" {{action 'askQuestion'}}>
        {{#link-to 'ask-question' class="btn btn-primary" role="button"}}Ask a Question{{/link-to}}
      </div>
    {{/if}}
  </div>
</h1>

<div class="row">
  <div class="col-md-6 col-md-offset-3">
    {{#each question in this.questions itemController='question'}}

      <div class="question">
        <div {{action 'questionClicked'}}>
          {{#link-to 'question-details' question.id}}
            <p class="lead"><strong>{{question.name}}</strong> asks: {{question.question}}</p>
          {{/link-to}}
        </div>

        {{#if question.clicked}}
          {{outlet 'question-details'}}

          {{#if question.notReplying}}
            <div {{action 'answer'}}>
              <p>{{#link-to 'new-answer' question.id class="btn btn-primary" role="button"}}Reply{{/link-to}}</p>
            </div>
          {{else}}
            {{outlet 'new-answer'}}
          {{/if}}
          
        {{/if}}
      </div>

    {{/each}}
  </div>
</div>

<div class="row">
  <div class="col-md-8 col-md-offset-2">
    {{outlet 'ask-question'}}
  </div>
</div>
